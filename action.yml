name: godot4-gut-testing
description: Download GUT, import resources, run GUT tests for Godot 4 inside of Docker.
author: Hypasist
intputs:
  gutConfigPath:
    description: "Path to GUT config relative to directory"
    default: ''
  extraGodotFlags:
    description: "Extra flags passed to Godot."
    default: '--headless'
  importGodotResources:
    descritpion: "Tells, whether we should make addition Godot pre-run with '--import' flag set. Useful, if .godot folder is not included in Godot project repository."
    default: 'false'
branding:
  icon: git-merge
  color: blue

runs:
  using: "composite"
  steps:
    - name: List files in the repository
      run: pwd && ls && echo $GITHUB_WORKSPACE && echo ${{ github.workspace }} && echo $NODE_ENV
      
    - name: Random Number Generator
      id: random-number-generator
      run: echo "random-number=$(echo $RANDOM)" >> $GITHUB_OUTPUT
      shell: bash
      
    - name: Set GitHub Path
      run: echo "$GITHUB_ACTION_PATH" >> $GITHUB_PATH
      shell: bash
      env:
        GITHUB_ACTION_PATH: ${{ github.action_path }}
